@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* =============================================== */
/* | Layout structure:                           | */
/* |                                             | */
/* | body > nav                                  | */
/* |     > div.content-flex > nav                | */
/* |                        > main > app content | */
/* =============================================== */

@layer base {
    html {
        overflow-y: scroll;
    }

    nav {
        @apply bg-purple-300;
        @apply border-purple-400;
        @apply border;
        @apply flex-col;
        @apply flex;
        @apply items-center;
    }

    nav > a {
        @apply p-2;
    }

    .content-flex {
        @apply flex;
        @apply flex-col;
    }

    .content-flex > nav {
        @apply border-t-0;
    }

    main {
        @apply p-4;
    }

    @media screen(sm) {
        body > nav {
            @apply flex-row;
            @apply h-24; /* Must match calc in nav */
            @apply pl-4;

            min-width: 100vw;
        }

        .content-flex {
            @apply flex-row;
        }

        .content-flex > nav {
            @apply pt-4;
            @apply w-56; /* Must match calc main */

            min-height: calc(100vh - theme('height.24'));
        }

        .content-flex > nav > a {
            /* @apply pl-8; */
            /* @apply pr-8; */
        }

        main {
            @apply pt-4;
            @apply pr-8;
            @apply pl-8;

            width: calc(100vw - theme('width.56'));
        }
    }

    h1, h2, h3, h4 {
        @apply font-bold;
    }

    h1 {
        @apply text-2xl;
    }

    h2 {
        @apply text-xl;
    }

    h3 {
        @apply text-lg;
    }

    a {
        @apply underline;
    }

    ul {
        @apply list-disc;
    }

    ol {
        @apply list-decimal;
    }

    th {
        @apply font-bold;
        @apply p-4;
        @apply text-left;
    }

    td {
        @apply border-purple-500;
        @apply p-4;
    }

    hr {
        @apply border-black;
    }

    pre, textarea {
        @apply bg-white;
        @apply border-purple-400;
        @apply border;
        @apply p-3;
        @apply rounded;
    }

    code.inline {
        @apply border-purple-400;
        @apply border;
        @apply rounded;
        @apply bg-white;
        @apply text-sm;
        padding: 2px;
    }

    input[type="checkbox"] {
        @apply cursor-pointer;
    }

    img {
        image-orientation: from-image;
    }

}

@layer components {
    button[type="submit"], .btn {
        @apply bg-purple-300;
        @apply disabled:bg-purple-100;
        @apply disabled:opacity-75;
        @apply hover:bg-purple-400;
        @apply p-2;
        @apply rounded;
    }

    .window {
        @apply bg-purple-100;
        @apply border-collapse;
        @apply border-purple-400;
        @apply border;
        @apply rounded;
    }

    .flash {
        /* TODO: info and empty flashes will be at same absolute location */
        @apply absolute;
        @apply right-5;
        @apply top-5;

        @apply font-bold;
        @apply mb-2;
        @apply p-4;
        @apply rounded;
        @apply shadow-md;
        @apply z-30;
    }

    .flash:empty {
        @apply hidden;
    }

    .flash-error {
        @apply bg-red-500;
    }

    .flash-info {
        @apply bg-teal-500;
    }

    .invalid-feedback {
        @apply font-bold;
    }

    .alert {
        @apply font-bold;
    }

    .alert-danger {
        @apply text-red-400;
    }

    .inline-links > * {
        @apply mr-2;
    }

    .markdown-content {
        @apply m-8;
    }

    .markdown-content hr {
        @apply mb-2;
        @apply mt-2;
    }

    .markdown-content h1, .markdown-content h2, .markdown-content h3 {
        @apply mb-2;
    }

    .datetime-select {
        @apply flex;
        @apply justify-between;
    }

    .table-filters {
        @apply flex;
        @apply flex-col;
        @apply md:flex-row;
        @apply gap-1;
        @apply mb-2;
    }
}

/*
 * Rules that are always included in style sheet
 * Skips behavior defined here:
 * https://tailwindcss.com/docs/adding-custom-styles#removing-unused-custom-css
 */

.internal {
    @apply font-bold;
    @apply text-purple-700;
}
